"use strict";(self.webpackChunkzh=self.webpackChunkzh||[]).push([[832],{60076:(n,a,s)=>{s.r(a),s.d(a,{default:()=>E});var t=s(27875);const e=(0,t.uE)('<h1 id="起步" tabindex="-1"><a class="header-anchor" href="#起步" aria-hidden="true">#</a> 起步</h1><div class="custom-container warning"><p class="custom-container-title">前提条件</p><p>确保 Vue 版本为 3.x</p></div><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2>',3),p=(0,t.Uk)("你可以通过 "),o={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},c=(0,t.Uk)("NPM"),l=(0,t.Uk)("、"),u={href:"https://yarnpkg.com/",target:"_blank",rel:"noopener noreferrer"},i=(0,t.Uk)("YARN"),k=(0,t.Uk)(" 或者通过 "),r=(0,t._)("code",null,"<script>",-1),d=(0,t.Uk)(" 的方式引入 "),g={href:"https://unpkg.com/",target:"_blank",rel:"noopener noreferrer"},h=(0,t.Uk)("unpkg.com"),m=(0,t.Uk)(" 上的包。"),v=(0,t.uE)('<h3 id="npm" tabindex="-1"><a class="header-anchor" href="#npm" aria-hidden="true">#</a> NPM</h3><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> vue-request\n<span class="token comment"># or</span>\n<span class="token function">yarn</span> <span class="token function">add</span> vue-request\n</code></pre></div><h3 id="cdn" tabindex="-1"><a class="header-anchor" href="#cdn" aria-hidden="true">#</a> CDN</h3><blockquote><p>对于生产环境，我们推荐链接到一个明确的版本号和构建文件，以避免新版本造成的不可预期的破坏。</p></blockquote><div class="language-html ext-html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/vue-request/dist/vue-request.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n</code></pre></div><p>一旦你在页面中添加了它，你就可以在 <code>window.VueRequest</code> 中访问我们导出的方法。</p><h2 id="用例" tabindex="-1"><a class="header-anchor" href="#用例" aria-hidden="true">#</a> 用例</h2><div class="language-vue ext-vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>failed to fetch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hey! {{ data }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> loading<span class="token punctuation">,</span> error <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>service<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      data<span class="token punctuation">,</span>\n      loading<span class="token punctuation">,</span>\n      error<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n</code></pre></div>',8),f=(0,t.Uk)("在这个例子中，"),q=(0,t._)("code",null,"useRequest",-1),U=(0,t.Uk)(" 接收了一个 "),_=(0,t._)("code",null,"service",-1),b=(0,t.Uk)(" 函数。"),w=(0,t._)("code",null,"service",-1),x=(0,t.Uk)("是一个异步的请求函数，换句话说，你可以使用 "),y=(0,t._)("strong",null,"axios",-1),R=(0,t.Uk)(" 来获取数据，然后返回一个 "),C=(0,t._)("strong",null,"Promise",-1),N=(0,t.Uk)("。更具体的说明可以在"),P=(0,t.Uk)("数据请求"),W=(0,t.Uk)("中查看。"),j=(0,t.uE)("<code>useRequest</code> 还返回了三个值， <code>data</code>、<code>loading</code> 和 <code>error</code>。当请求还没完成时, <code>data</code> 将会为 <code>undefined</code> 同时，<code>loading</code> 将被设置为 <code>true</code>。当请求完成后，则将会根据请求结果来设定 <code>data</code> 和 <code>error</code>，并对页面进行渲染。这是因为 <code>data</code>、 <code>loading</code> 和 <code>error</code> 是 Vue 的 ",26),V={href:"https://v3.cn.vuejs.org/guide/reactivity-fundamentals.html",target:"_blank",rel:"noopener noreferrer"},z=(0,t.Uk)("响应式引用(Refs)"),D=(0,t.Uk)("，它们的值将根据请求状态及请求结果来修改。"),E={render:function(n,a){const s=(0,t.up)("OutboundLink"),E=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[e,(0,t._)("p",null,[p,(0,t._)("a",o,[c,(0,t.Wm)(s)]),l,(0,t._)("a",u,[i,(0,t.Wm)(s)]),k,r,d,(0,t._)("a",g,[h,(0,t.Wm)(s)]),m]),v,(0,t._)("p",null,[f,q,U,_,b,w,x,y,R,C,N,(0,t.Wm)(E,{to:"/guide/documentation/dataFetching.html"},{default:(0,t.w5)((()=>[P])),_:1}),W]),(0,t._)("p",null,[j,(0,t._)("a",V,[z,(0,t.Wm)(s)]),D])],64)}}},70177:(n,a,s)=>{s.r(a),s.d(a,{data:()=>t});const t={key:"v-36c665f0",path:"/guide/gettingStarted.html",title:"起步",lang:"zh-CN",frontmatter:{head:[["meta",{name:"og:title",content:"起步 - VueRequest"}]]},excerpt:"",headers:[{level:2,title:"安装",slug:"安装",children:[{level:3,title:"NPM",slug:"npm",children:[]},{level:3,title:"CDN",slug:"cdn",children:[]}]},{level:2,title:"用例",slug:"用例",children:[]}],filePathRelative:"guide/gettingStarted.md",git:{updatedTime:1631500507e3,contributors:[{name:"John",email:"John60676@qq.com",commits:1}]}}}}]);