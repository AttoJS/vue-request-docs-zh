"use strict";(self.webpackChunkzh=self.webpackChunkzh||[]).push([[803],{80766:(n,s,a)=>{a.r(s),a.d(s,{default:()=>k});var t=a(27875);const p=(0,t.uE)('<h1 id="数据请求" tabindex="-1"><a class="header-anchor" href="#数据请求" aria-hidden="true">#</a> 数据请求</h1><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> error <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>Service<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div>',2),e=(0,t._)("code",null,"Service",-1),o=(0,t._)("strong",null,"Promise 的函数",-1),c=(0,t._)("code",null,"data",-1),u=(0,t._)("code",null,"error",-1),l=(0,t._)("code",null,"params",-1),i=(0,t.uE)('<p>换句话说，你可以使用 <strong>第三方的请求库（如 <code>axios</code> ）</strong> 来获取数据，然后将该请求传给 VueRequest 来进行管理。</p><p>我们来举个例子 🌰</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">getUser</span> <span class="token operator">=</span> userName <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;api/user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    params<span class="token operator">:</span> <span class="token punctuation">{</span>\n      name<span class="token operator">:</span> userName<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> run <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>getUser<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  defaultParams<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;马冬梅&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// ...</span>\n<span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><hr><p>恭喜你，你已经入门了 VueRequest 了。</p><p>什么？还不够用？来来来，后面的章节我们来了解一下一些常用的配置与用法。</p>',6),r={},k=(0,a(94407).Z)(r,[["render",function(n,s){const a=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[p,(0,t._)("p",null,[(0,t.Uk)("这是 VueRequest 最基本的 API。这里的 "),e,(0,t.Uk)(" 它必须是一个返回 "),o,(0,t.Uk)("，返回的结果将决定是传递 "),c,(0,t.Uk)("（resolve） 亦或者是"),u,(0,t.Uk)("(reject)。函数的入参将会被当做 "),(0,t.Wm)(a,{to:"/api/index.html#params"},{default:(0,t.w5)((()=>[l])),_:1}),(0,t.Uk)(" 传递给 API 接口。")]),i],64)}]])},20290:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t={key:"v-d1efe634",path:"/guide/documentation/dataFetching.html",title:"数据请求",lang:"zh-CN",frontmatter:{head:[["meta",{name:"og:title",content:"数据请求 - VueRequest"}]]},excerpt:"",headers:[],filePathRelative:"guide/documentation/dataFetching.md",git:{updatedTime:1686191886e3,contributors:[{name:"John",email:"John60676@qq.com",commits:1}]}}}}]);