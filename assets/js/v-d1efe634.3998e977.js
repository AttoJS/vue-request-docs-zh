"use strict";(self.webpackChunkzh=self.webpackChunkzh||[]).push([[803],{73638:(n,s,a)=>{a.r(s),a.d(s,{default:()=>y});var t=a(27875);const p=(0,t.uE)('<h1 id="æ•°æ®è¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¯·æ±‚" aria-hidden="true">#</a> æ•°æ®è¯·æ±‚</h1><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> error <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>service<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><p>è¿™æ˜¯ VueRequest æœ€åŸºæœ¬çš„ APIã€‚è¿™é‡Œçš„ <code>service</code> å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªè¯·æ±‚æ¥å£ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ª <a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2">å­—ç¬¦ä¸²</a>ã€ä¸€ä¸ª <a href="#%E5%AF%B9%E8%B1%A1">å¯¹è±¡</a> æˆ–è€…æ˜¯ä¸€ä¸ª <a href="#%E5%87%BD%E6%95%B0">å‡½æ•°</a>ã€‚å½“è¯·æ±‚å®Œæˆåï¼Œåˆ™å°†ä¼šæ ¹æ®è¯·æ±‚ç»“æœæ¥ä¿®æ”¹ <code>data</code> å’Œ <code>error</code>ã€‚</p>',3),e={id:"å‡½æ•°",tabindex:"-1"},o=(0,t._)("a",{class:"header-anchor",href:"#å‡½æ•°","aria-hidden":"true"},"#",-1),c=(0,t.Uk)(" å‡½æ•° "),u=(0,t.Uk)("æŸ¥è¯¢å‡½æ•°å®é™…ä¸Šå¯ä»¥æ˜¯ä»»æ„ä¸€ä¸ªè¿”å› "),l=(0,t._)("strong",null,"Promise",-1),i=(0,t.Uk)(" çš„å‡½æ•°ï¼Œè¿”å›çš„ promise å°†å†³å®šæ˜¯ä¼ é€’ "),r=(0,t._)("code",null,"data",-1),k=(0,t.Uk)(" äº¦æˆ–è€…æ˜¯æŠ›å‡ºé”™è¯¯ï¼Œé”™è¯¯å°†ä¼šè¢« "),d=(0,t._)("code",null,"error",-1),g=(0,t.Uk)(" æ•è·ã€‚å‡½æ•°çš„å…¥å‚å°†ä¼šè¢«å½“åš "),h=(0,t._)("code",null,"params",-1),m=(0,t.Uk)(" ä¼ é€’ç»™ API æ¥å£"),f=(0,t.uE)('<p>æ¢å¥è¯è¯´ï¼Œä½ å¯ä»¥ä½¿ç”¨ <strong>ç¬¬ä¸‰æ–¹çš„è¯·æ±‚åº“ï¼ˆå¦‚ <code>axios</code> ï¼‰</strong> æ¥è·å–æ•°æ®ï¼Œç„¶åå°†è¯¥è¯·æ±‚ä¼ ç»™ VueRequest æ¥è¿›è¡Œç®¡ç†ã€‚</p><p>æˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ ğŸŒ°</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">getUser</span> <span class="token operator">=</span> userName <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;api/user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    params<span class="token operator">:</span> <span class="token punctuation">{</span>\n      name<span class="token operator">:</span> userName<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> run <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>getUser<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  defaultParams<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;é©¬å†¬æ¢…&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// ...</span>\n<span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&#39;å¼ ä¸‰&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><p>é¡ºå¸¦ä¸€æï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°è¿”å›ä¸€ä¸ª å­—ç¬¦ä¸² æˆ–è€…æ˜¯ä¸€ä¸ª å¯¹è±¡ï¼Œæˆ‘ä»¬å°†ä¼šä½¿ç”¨ <code>fetch</code> æ¥å¤„ç†è¿™äº›æ•°æ®è¯·æ±‚ã€‚</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>name <span class="token operator">=&gt;</span> <span class="token string">&#39;api/user?name=&#39;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="å­—ç¬¦ä¸²" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²" aria-hidden="true">#</a> å­—ç¬¦ä¸²</h2><p>å½“ç„¶ï¼Œå¦‚æœä½ çš„æ¥å£è¶³å¤Ÿç®€å•ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¼ å…¥ä¸€ä¸ªæ¥å£çš„é“¾æ¥</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span><span class="token string">&#39;api/simple&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡" aria-hidden="true">#</a> å¯¹è±¡</h2><p>å½“ç„¶ï¼Œå¦‚æœä½ çš„æ¥å£è¶³å¤Ÿç®€å•ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¼ å…¥ä¸€ä¸ªåŒ…å« <code>url</code> å±æ€§çš„å¯¹è±¡</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> objectService <span class="token operator">=</span> <span class="token punctuation">{</span>\n  url<span class="token operator">:</span> <span class="token string">&#39;api/simple&#39;</span><span class="token punctuation">,</span>\n  method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>\n  headers<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token string">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>objectService<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><hr><p>æ­å–œä½ ï¼Œä½ å·²ç»å…¥é—¨äº† VueRequest äº†ã€‚</p><p>ä»€ä¹ˆï¼Ÿè¿˜ä¸å¤Ÿç”¨ï¼Ÿæ¥æ¥æ¥ï¼Œåé¢çš„ç« èŠ‚æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ä¸€äº›å¸¸ç”¨çš„é…ç½®ä¸ç”¨æ³•ã€‚</p>',14),y={render:function(n,s){const a=(0,t.up)("Badge"),y=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[p,(0,t._)("h2",e,[o,c,(0,t.Wm)(a,{type:"tip",text:"æ¨è",vertical:"top"})]),(0,t._)("p",null,[u,l,i,r,k,d,g,(0,t.Wm)(y,{to:"/api/index.html#params"},{default:(0,t.w5)((()=>[h])),_:1}),m]),f],64)}}},20290:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t={key:"v-d1efe634",path:"/guide/documentation/dataFetching.html",title:"æ•°æ®è¯·æ±‚",lang:"zh-CN",frontmatter:{head:[["meta",{name:"og:title",content:"æ•°æ®è¯·æ±‚ - VueRequest"}]]},excerpt:"",headers:[{level:2,title:"å‡½æ•°",slug:"å‡½æ•°",children:[]},{level:2,title:"å­—ç¬¦ä¸²",slug:"å­—ç¬¦ä¸²",children:[]},{level:2,title:"å¯¹è±¡",slug:"å¯¹è±¡",children:[]}],filePathRelative:"guide/documentation/dataFetching.md",git:{updatedTime:1655457023e3,contributors:[{name:"John",email:"John60676@qq.com",commits:1}]}}}}]);